const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UserInfo-B9V_nb9Q.js","assets/index-B_YZ1bcj.js","assets/index-BxqDl4aX.css","assets/ModalProfile.module-BI4GlYxw.js","assets/ModalProfile-DwgWg1iR.css"])))=>i.map(i=>d[i]);
import{j as s,p as n,r as l,P as d,V as t,_ as p}from"./index-B_YZ1bcj.js";import{s as a}from"./ModalProfile.module-BI4GlYxw.js";import{c as _}from"./closebutton-BzUVgdKv.js";import{F as f,d as u,b as x,c as b,E as j}from"./formik.esm-4u843pHc.js";import{s as h}from"./ModalProfile-gTPZYkou.js";const N=l.lazy(()=>p(()=>import("./UserInfo-B9V_nb9Q.js"),__vite__mapDeps([0,1,2,3,4]))),P=({closeModal:i,user:m,logout:c})=>s.jsxs("div",{className:`${a.modal} ${a["modal-profile"]}`,children:[s.jsx("button",{className:a["modal__close-btn"],onClick:i,children:s.jsx("img",{className:a["close__btn-image"],src:_,alt:"Иконка закрытия модального окна"})}),s.jsxs("div",{className:a.profile,children:[s.jsx("h2",{className:a["profile-title"],children:"Профиль"}),s.jsx("img",{className:a["profile-avatar"],src:n,alt:"Картинка профиля"}),s.jsx(l.Suspense,{fallback:s.jsx(d,{component:"Загрузка пользователя"}),children:s.jsx(N,{user:m})}),s.jsx(f,{initialValues:{password:""},validationSchema:u,onSubmit:async(e,{resetForm:r})=>{const{error:o}=await h.auth.updateUser({password:e.password});o?t.error(o.message):(t.success("Пароль изменен"),r())},children:({isValid:e,dirty:r})=>s.jsxs(x,{className:a.form__updatepassword,children:[s.jsx(b,{className:a["form__updatepassword-input"],name:"password",placeholder:"Введите новый пароль",type:"password"}),s.jsx(j,{name:"password",component:"div",className:a.form__error}),s.jsxs("div",{className:a.btn__profile,children:[s.jsx("button",{className:`${a["form__submit-btn"]} ${a["btn__profile-action"]}`,type:"submit",disabled:!e||!r,children:s.jsx("span",{className:a["form__submit-text"],children:"Сохранить"})}),s.jsx("button",{className:`${a["form__submit-btn"]} ${a["btn__profile-action"]}`,type:"button",onClick:c,children:s.jsx("span",{className:a["form__submit-text"],children:"Выйти"})})]})]})})]})]});export{P as default};
