const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UserInfo-CeKrTewr.js","assets/index-CEBO9w8k.js","assets/index-Chx7WZ0p.css","assets/ModalProfile.module-BI4GlYxw.js","assets/ModalProfile-DwgWg1iR.css"])))=>i.map(i=>d[i]);
import{j as s,p as n,r as l,V as t,_ as d}from"./index-CEBO9w8k.js";import{s as a}from"./ModalProfile.module-BI4GlYxw.js";import{c as p}from"./closebutton-BzUVgdKv.js";import{F as _,d as f,b as u,c as x,E as b}from"./formik.esm-ERXyAgK2.js";import{s as j}from"./ModalProfile-B8EcW_gB.js";const h=l.lazy(()=>d(()=>import("./UserInfo-CeKrTewr.js"),__vite__mapDeps([0,1,2,3,4]))),E=({closeModal:i,user:m,logout:c})=>s.jsxs("div",{className:`${a.modal} ${a["modal-profile"]}`,children:[s.jsx("button",{className:a["modal__close-btn"],onClick:i,children:s.jsx("img",{className:a["close__btn-image"],src:p,alt:"Иконка закрытия модального окна"})}),s.jsxs("div",{className:a.profile,children:[s.jsx("h2",{className:a["profile-title"],children:"Профиль"}),s.jsx("img",{className:a["profile-avatar"],src:n,alt:"Картинка профиля"}),s.jsx(l.Suspense,{fallback:null,children:s.jsx(h,{user:m})}),s.jsx(_,{initialValues:{password:""},validationSchema:f,onSubmit:async(e,{resetForm:r})=>{const{error:o}=await j.auth.updateUser({password:e.password});o?t.error(o.message):(t.success("Пароль изменен"),r())},children:({isValid:e,dirty:r})=>s.jsxs(u,{className:a.form__updatepassword,children:[s.jsx(x,{className:a["form__updatepassword-input"],name:"password",placeholder:"Введите новый пароль",type:"password"}),s.jsx(b,{name:"password",component:"div",className:a.form__error}),s.jsxs("div",{className:a.btn__profile,children:[s.jsx("button",{className:`${a["form__submit-btn"]} ${a["btn__profile-action"]}`,type:"submit",disabled:!e||!r,children:s.jsx("span",{className:a["form__submit-text"],children:"Сохранить"})}),s.jsx("button",{className:`${a["form__submit-btn"]} ${a["btn__profile-action"]}`,type:"button",onClick:c,children:s.jsx("span",{className:a["form__submit-text"],children:"Выйти"})})]})]})})]})]});export{E as default};
